{% extends 'base.html' %}

{% block title %}
  Nouvel article
{% endblock %}

{% block content %}
  <div class="w-full p-4">
    <form method="post" enctype="multipart/form-data" class="flex flex-col w-full items-center">
      {% csrf_token %}

      <div class="flex flex-col w-full md:w-[700px] mt-6">
        <label for="title">Titre</label>
        <input type="text" value="{{ post.title }}" name="title" id="title" class="border border-gray-300 rounded-md p-2" />
      </div>

      <div class="flex flex-col w-full md:w-[700px] mt-6">
        <label for="content">Contenu</label>
        <textarea name="content" id="content" class="h-[320px] border border-gray-300 rounded-md p-2">{{ post.content }}</textarea>
      </div>

      <div class="mt-6 flex">
        <label for="published" class="flex justify-between items-center p-2">
          Brouillon<input type="checkbox" name="published" id="published" class="peer hidden" {% if post.published %} checked {% endif %}/>
          <span class="bg-gray-400 mx-2 w-11 h-7 rounded-full flex items-center after:bg-white after:w-5 after:h-5 after:rounded-full p-1 peer-checked:bg-slate-700 peer-checked:after:translate-x-4 ease-in-out duration-300 after:duration-300"></span>
          Publier
        </label>
      </div>

      <div class="w-full md:w-[700px] mt-6">
        <label for="thumbnail">Image</label>
        <input type="file" name="thumbnail" accept="image/*" id="thumbnail"/>
      </div>

      <div class="flex flex-col w-full md:w-[700px] mt-6">
        <label for="tags">Tags</label>
        <select name="tags" id="tags" multiple>
          {% for tag in tags %}
            <option value="{{ tag.id }}">
              {{ tag.name }}
            </option>
          {% endfor %}
        </select>
          
      </div>

      <button type="submit" class="bg-blue-500 text-white rounded-md p-2 mt-10 w-40">Enregistrer</button>

    </form>
  </div>
{% endblock %}
